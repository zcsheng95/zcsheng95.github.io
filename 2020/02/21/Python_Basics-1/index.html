<!DOCTYPE html>
<html lang="en">
<script src="/js/src/photoswipe.min.js?v="></script>
<script src="/js/src/photoswipe-ui-default.min.js?v="></script>
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:300,300italic,400,400italic,700,700italic|Raleway:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"zcsheng95.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":320,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="article">
<meta property="og:title" content="Python Basics using functional programming">
<meta property="og:url" content="http://zcsheng95.github.io/2020/02/21/Python_Basics-1/index.html">
<meta property="og:site_name" content="Jeff&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-02-21T21:19:41.000Z">
<meta property="article:modified_time" content="2020-07-17T21:55:23.000Z">
<meta property="article:author" content="Zhecheng Sheng">
<meta property="article:tag" content="Data Science">
<meta property="article:tag" content="Coding">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://zcsheng95.github.io/2020/02/21/Python_Basics-1/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Python Basics using functional programming | Jeff's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Jeff's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">LEARN  âœ¨ SHARE</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/resume/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-gallery">

    <a href="/photos/" rel="section"><i class="fa fa-camera fa-fw"></i>Gallery</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://zcsheng95.github.io/2020/02/21/Python_Basics-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhecheng Sheng">
      <meta itemprop="description" content="Life is long, so take your time">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jeff's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python Basics using functional programming
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-21 15:19:41" itemprop="dateCreated datePublished" datetime="2020-02-21T15:19:41-06:00">2020-02-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-17 16:55:23" itemprop="dateModified" datetime="2020-07-17T16:55:23-05:00">2020-07-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming/" itemprop="url" rel="index"><span itemprop="name">Programming</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"<p>Borrowed from:</p>
<ul>
<li><a href="https://github.com/cliburn/bios-823-2019/blob/master/notebooks/01_Functional.ipynb" target="_blank" rel="noopener">2019 BIOS 823 Course Note 01</a></li>
</ul>
<h4 id="functional-programming-in-python-operator-functional-itertoools-toolz">Functional programming in Python (operator, functional, itertoools, toolz)</h4>
<ul>
<li>Pure functions</li>
<li>Recursive functions</li>
<li>Anonymous functions</li>
<li>Lazy evaluation</li>
<li>Higher-order functions</li>
<li>Decorators</li>
<li>Partial application</li>
<li>Using <code>operator</code></li>
<li>Using <code>functional</code></li>
<li>Using <code>itertools</code></li>
<li>Pipelines with <code>toolz</code></li>
</ul>
<a id="more"></a>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<h4 id="pure-functions">Pure functions</h4>
<h5 id="deterministic">Deterministic</h5>
<p>Pure</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.exp(<span class="number">5</span>), np.exp(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(148.4131591025766, 148.4131591025766)</code></pre>
<p>Not pure</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.random.randn(), np.random.randn()</span><br></pre></td></tr></table></figure>
<pre><code>(0.6256954394060825, 1.4702462450747522)</code></pre>
<h5 id="no-side-effects">No side effects</h5>
<p>Pure</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(xs)</span>:</span></span><br><span class="line">    <span class="string">'''Modify value at first index.'''</span></span><br><span class="line">    <span class="keyword">if</span> len(xs) &gt; <span class="number">0</span>:</span><br><span class="line">        xs = list(xs)</span><br><span class="line">        xs[<span class="number">0</span>] = <span class="string">'@'</span></span><br><span class="line">    <span class="keyword">return</span> xs</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xs = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">f(xs), xs</span><br></pre></td></tr></table></figure>
<pre><code>([&#39;@&#39;, 2, 3], [1, 2, 3])</code></pre>
<p>Not pure</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">(xs)</span>:</span></span><br><span class="line">    <span class="string">'''Modify value at first index.'''</span></span><br><span class="line">    <span class="keyword">if</span> len(xs) &gt; <span class="number">0</span>:</span><br><span class="line">        xs[<span class="number">0</span>] = <span class="string">'@'</span></span><br><span class="line">    <span class="keyword">return</span> xs</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xs = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">g(xs), xs</span><br></pre></td></tr></table></figure>
<pre><code>([&#39;@&#39;, 2, 3], [&#39;@&#39;, 2, 3])</code></pre>
<h5 id="exercise">Exercise</h5>
<p>Is the function <code>h</code> pure or impure?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">h</span><span class="params">(n, xs=[])</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        xs.append(i)</span><br><span class="line">    <span class="keyword">return</span> xs</span><br></pre></td></tr></table></figure>
<p>The function is not deterministic, and it has side effects!</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">5</span></span><br><span class="line">xs = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<p>Non-deterministic</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h(n)</span><br></pre></td></tr></table></figure>
<pre><code>[0, 1, 2, 3, 4]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h(n)</span><br></pre></td></tr></table></figure>
<pre><code>[0, 1, 2, 3, 4, 0, 1, 2, 3, 4]</code></pre>
<p>To avoid non-determinism, do not set default mutable arguments. The usaal Python idiom is</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(xs=None)</span>:</span></span><br><span class="line">    <span class="string">"""Docstring."""</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> xs <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        xs = []</span><br><span class="line">    do_something(xs)</span><br></pre></td></tr></table></figure>
<p>Side effects</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xs = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h(n, xs)</span><br></pre></td></tr></table></figure>
<pre><code>[1, 2, 3, 0, 1, 2, 3, 4]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xs</span><br></pre></td></tr></table></figure>
<pre><code>[1, 2, 3, 0, 1, 2, 3, 4]</code></pre>
<h4 id="recursive-functions">Recursive functions</h4>
<p>A recursive function is one that calls itself. Python supports recursion, but recursive functions in Python are not efficient and iterative algorithms are preferred in general.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rec_sum</span><span class="params">(xs)</span>:</span></span><br><span class="line">    <span class="string">"""Recursive sum."""</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> len(xs) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> xs[<span class="number">0</span>] + rec_sum(xs[<span class="number">1</span>:])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rec_sum([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<pre><code>10</code></pre>
<h4 id="anonymous-functions">Anonymous functions</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lambda</span> x, y: x + y</span><br></pre></td></tr></table></figure>
<pre><code>&lt;function __main__.&lt;lambda&gt;(x, y)&gt;</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add = <span class="keyword">lambda</span> x, y: x + y</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add(<span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<pre><code>7</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lambda</span> x, y: x <span class="keyword">if</span> x &lt; y <span class="keyword">else</span> y</span><br></pre></td></tr></table></figure>
<pre><code>&lt;function __main__.&lt;lambda&gt;(x, y)&gt;</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smaller = <span class="keyword">lambda</span> x, y: x <span class="keyword">if</span> x &lt; y <span class="keyword">else</span> y</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smaller(<span class="number">9</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>1</code></pre>
<h4 id="lazy-evaluation">Lazy evaluation</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">range(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<pre><code>range(0, 10)</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(range(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre>
<h5 id="generators">Generators</h5>
<p>Generators behave like functions that retain the last state and can be re-entered. Results are returned with <code>yield</code> rather than <code>return</code>. Generators are used extensively in Python, and almost exclusively in the <code>itertools</code> and <code>toolz</code> packages we will review later in this notebook.</p>
<h6 id="differences-between-a-function-and-a-generator">Differences between a function and a generator</h6>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib_eager</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="string">"""Eager Fibonacci function."""</span></span><br><span class="line"></span><br><span class="line">    xs = []</span><br><span class="line">    a, b = <span class="number">1</span>,<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        xs.append(a)</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">    <span class="keyword">return</span> xs</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fib_eager(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[1, 1, 2, 3, 5, 8, 13, 21, 34, 55]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib_lazy</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="string">"""Lazy Fibonacci generator."""</span></span><br><span class="line"></span><br><span class="line">    a, b = <span class="number">1</span>,<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        <span class="keyword">yield</span> a</span><br><span class="line">        a, b = b, a + b</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fib_lazy(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<pre><code>&lt;generator object fib_lazy at 0x103b668b8&gt;</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(fib_lazy(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[1, 1, 2, 3, 5, 8, 13, 21, 34, 55]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fibs1 = fib_eager(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> fibs1:</span><br><span class="line">    print(i, end=<span class="string">','</span>)</span><br></pre></td></tr></table></figure>
<pre><code>1,1,2,3,5,8,13,21,34,55,</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> fibs1:</span><br><span class="line">    print(i, end=<span class="string">','</span>)</span><br></pre></td></tr></table></figure>
<pre><code>1,1,2,3,5,8,13,21,34,55,</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fibs2 = fib_lazy(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> fibs2:</span><br><span class="line">    print(i, end=<span class="string">','</span>)</span><br></pre></td></tr></table></figure>
<pre><code>1,1,2,3,5,8,13,21,34,55,</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> fibs2:</span><br><span class="line">    print(i, end=<span class="string">','</span>)</span><br></pre></td></tr></table></figure>
<h6 id="generators-can-return-infinite-sequences">Generators can return infinite sequences</h6>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">iota</span><span class="params">(start = <span class="number">1</span>)</span>:</span></span><br><span class="line">    <span class="string">"""An infinite incrementing genrator."""</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">yield</span> start</span><br><span class="line">        start += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> iota():</span><br><span class="line">    print(i, end=<span class="string">','</span>)</span><br><span class="line">    <span class="keyword">if</span> i &gt; <span class="number">25</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<pre><code>1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,</code></pre>
<h4 id="higher-order-functions">Higher order functions</h4>
<ul>
<li>Take a function as an argument</li>
<li>Returns a function</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dist</span><span class="params">(x, y, measure)</span>:</span></span><br><span class="line">    <span class="string">"""Returns distance between x and y using given measure.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    measure is a function that takes two arguments x and y.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> measure(x, y)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">euclid</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="string">"""Returns Euclidean distance between x and y."""</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> np.sqrt(np.sum(x**<span class="number">2</span> + y**<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line">y = np.array([<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">dist(x, y, measure=euclid)</span><br></pre></td></tr></table></figure>
<pre><code>5.0</code></pre>
<h5 id="standard-hofs">Standard HOFs</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(map(<span class="keyword">lambda</span> x: x**<span class="number">2</span>, range(<span class="number">10</span>)))</span><br></pre></td></tr></table></figure>
<pre><code>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(filter(<span class="keyword">lambda</span> x: x % <span class="number">2</span> == <span class="number">0</span>, range(<span class="number">10</span>)))</span><br></pre></td></tr></table></figure>
<pre><code>[0, 2, 4, 6, 8]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reduce(<span class="keyword">lambda</span> x, y: x + y, range(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<pre><code>45</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reduce(<span class="keyword">lambda</span> x, y: x + y, range(<span class="number">10</span>), <span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<pre><code>55</code></pre>
<h4 id="example-flattening-a-nested-list">Example: Flattening a nested list</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">'the quick brown fox'</span></span><br><span class="line">s2 = <span class="string">'jumps over the dog'</span></span><br><span class="line">xs = [s.split() <span class="keyword">for</span> s <span class="keyword">in</span> [s1, s2]]</span><br><span class="line">xs</span><br></pre></td></tr></table></figure>
<pre><code>[[&#39;the&#39;, &#39;quick&#39;, &#39;brown&#39;, &#39;fox&#39;], [&#39;jumps&#39;, &#39;over&#39;, &#39;the&#39;, &#39;dog&#39;]]</code></pre>
<p>Using a nested for loop</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ys = []</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> xs:</span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> x:</span><br><span class="line">        ys.append(y)</span><br><span class="line">ys</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;the&#39;, &#39;quick&#39;, &#39;brown&#39;, &#39;fox&#39;, &#39;jumps&#39;, &#39;over&#39;, &#39;the&#39;, &#39;dog&#39;]</code></pre>
<p>Using a list comprehension</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[y <span class="keyword">for</span> x <span class="keyword">in</span> xs <span class="keyword">for</span> y <span class="keyword">in</span> x]</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;the&#39;, &#39;quick&#39;, &#39;brown&#39;, &#39;fox&#39;, &#39;jumps&#39;, &#39;over&#39;, &#39;the&#39;, &#39;dog&#39;]</code></pre>
<p>Using <code>reduce</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reduce(<span class="keyword">lambda</span> x, y: x + y, xs)</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;the&#39;, &#39;quick&#39;, &#39;brown&#39;, &#39;fox&#39;, &#39;jumps&#39;, &#39;over&#39;, &#39;the&#39;, &#39;dog&#39;]</code></pre>
<h4 id="closure">Closure</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(a)</span>:</span></span><br><span class="line">    <span class="string">"""The argument given to f is visible in g when g is called."""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">(b)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> a + b</span><br><span class="line">    <span class="keyword">return</span> g</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g3 = f(<span class="number">3</span>)</span><br><span class="line">g5 = f(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g3(<span class="number">4</span>), g5(<span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(7, 9)</code></pre>
<h4 id="decorators">Decorators</h4>
<p>A decorator is a higher-order function that takes a function as input and returns a <em>decorated</em> version of the original function with additional capabilities. There is syntactical sugar for decorators in Python using the <code>@decorator_function</code> notation as shown below.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">timer</span><span class="params">(f)</span>:</span></span><br><span class="line">    <span class="string">"""Times how long f takes."""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line"></span><br><span class="line">        start = time.time()     </span><br><span class="line">        res = f(*args, **kwargs)</span><br><span class="line">        elapsed = time.time() - start</span><br><span class="line">        <span class="keyword">return</span> res, elapsed</span><br><span class="line">    <span class="keyword">return</span> g</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">slow</span><span class="params">(n=<span class="number">1</span>)</span>:</span></span><br><span class="line">    time.sleep(n)</span><br><span class="line">    <span class="keyword">return</span> n</span><br></pre></td></tr></table></figure>
<p>Use as a function</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slow_t1 = timer(slow)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slow_t1(<span class="number">0.5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(0.5, 0.5016078948974609)</code></pre>
<p>Use as a decorator</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@timer</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">slow_t2</span><span class="params">(n=<span class="number">1</span>)</span>:</span></span><br><span class="line">    time.sleep(n)</span><br><span class="line">    <span class="keyword">return</span> n</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slow_t2(<span class="number">0.5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(0.5, 0.5036330223083496)</code></pre>
<h4 id="partial-application">Partial application</h4>
<p>Partial application takes a function with two or more parameters, and returns the function with some parameters <em>filled in</em>. Partial application is very useful when constructing pipelines that transform data in stages.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    <span class="string">"""Add a and b."""</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(map(partial(add, b=<span class="number">10</span>), range(<span class="number">5</span>)))</span><br></pre></td></tr></table></figure>
<pre><code>[10, 11, 12, 13, 14]</code></pre>
<h4 id="using-operator">Using <code>operator</code></h4>
<p>Operator provides named version of Python operators, and is typically used in place of anonymous functions in higher order functions to improve readability.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> operator <span class="keyword">as</span> op</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xs = [(<span class="string">'a'</span>, <span class="number">3</span>), (<span class="string">'b'</span>, <span class="number">1</span>), (<span class="string">'c'</span>, <span class="number">2</span>)]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sorted(xs, key=op.itemgetter(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[(&#39;b&#39;, 1), (&#39;c&#39;, 2), (&#39;a&#39;, 3)]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sorted(xs, key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<pre><code>[(&#39;b&#39;, 1), (&#39;c&#39;, 2), (&#39;a&#39;, 3)]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reduce(op.add, range(<span class="number">1</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<pre><code>10</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reduce(<span class="keyword">lambda</span> a, b: a + b, range(<span class="number">1</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<pre><code>10</code></pre>
<h4 id="using-functional">Using <code>functional</code></h4>
<p>We have already seen the use of <code>reduce</code> and <code>partial</code> from <code>functools</code>. Another useful function from the package is the <code>lrucache</code> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="string">"""Recursive version of Fibonacci."""</span></span><br><span class="line"></span><br><span class="line">    print(<span class="string">'Call fib(%d)'</span> % n)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> fib(n<span class="number">-2</span>) + fib(n<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<p>Notice the inefficiency from repeatedly calling the function with the same arguments.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fib(<span class="number">6</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Call fib(6)
Call fib(4)
Call fib(2)
Call fib(0)
Call fib(1)
Call fib(3)
Call fib(1)
Call fib(2)
Call fib(0)
Call fib(1)
Call fib(5)
Call fib(3)
Call fib(1)
Call fib(2)
Call fib(0)
Call fib(1)
Call fib(4)
Call fib(2)
Call fib(0)
Call fib(1)
Call fib(3)
Call fib(1)
Call fib(2)
Call fib(0)
Call fib(1)

8</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@lru_cache(maxsize=None)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib_cache</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="string">"""Recursive version of Fibonacci."""</span></span><br><span class="line"></span><br><span class="line">    print(<span class="string">'Call fib(%d)'</span> % n)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> fib_cache(n<span class="number">-2</span>) + fib_cache(n<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fib_cache(<span class="number">6</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Call fib(6)
Call fib(4)
Call fib(2)
Call fib(0)
Call fib(1)
Call fib(3)
Call fib(5)

8</code></pre>
<h4 id="using-itertools">Using <code>itertools</code></h4>
<p>The <code>itertools</code> package provides tools for efficient looping.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools <span class="keyword">as</span> it</span><br></pre></td></tr></table></figure>
<h5 id="generators-1">Generators</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.islice(it.count(), <span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.islice(it.cycle([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]), <span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[1, 2, 3, 1, 2, 3, 1, 2, 3, 1]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.islice(it.repeat([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]), <span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[[1, 2, 3],
 [1, 2, 3],
 [1, 2, 3],
 [1, 2, 3],
 [1, 2, 3],
 [1, 2, 3],
 [1, 2, 3],
 [1, 2, 3],
 [1, 2, 3],
 [1, 2, 3]]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.zip_longest(range(<span class="number">5</span>), <span class="string">'abc'</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[(0, &#39;a&#39;), (1, &#39;b&#39;), (2, &#39;c&#39;), (3, None), (4, None)]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.zip_longest(range(<span class="number">5</span>), <span class="string">'abc'</span>, fillvalue=<span class="string">'out of donuts'</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[(0, &#39;a&#39;), (1, &#39;b&#39;), (2, &#39;c&#39;), (3, &#39;out of donuts&#39;), (4, &#39;out of donuts&#39;)]</code></pre>
<h5 id="permutations-and-combinations">Permutations and combinations</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.permutations(<span class="string">'abc'</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;),
 (&#39;a&#39;, &#39;c&#39;, &#39;b&#39;),
 (&#39;b&#39;, &#39;a&#39;, &#39;c&#39;),
 (&#39;b&#39;, &#39;c&#39;, &#39;a&#39;),
 (&#39;c&#39;, &#39;a&#39;, &#39;b&#39;),
 (&#39;c&#39;, &#39;b&#39;, &#39;a&#39;)]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.permutations(<span class="string">'abc'</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[(&#39;a&#39;, &#39;b&#39;), (&#39;a&#39;, &#39;c&#39;), (&#39;b&#39;, &#39;a&#39;), (&#39;b&#39;, &#39;c&#39;), (&#39;c&#39;, &#39;a&#39;), (&#39;c&#39;, &#39;b&#39;)]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.combinations(<span class="string">'abc'</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[(&#39;a&#39;, &#39;b&#39;), (&#39;a&#39;, &#39;c&#39;), (&#39;b&#39;, &#39;c&#39;)]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.combinations_with_replacement(<span class="string">'abc'</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[(&#39;a&#39;, &#39;a&#39;), (&#39;a&#39;, &#39;b&#39;), (&#39;a&#39;, &#39;c&#39;), (&#39;b&#39;, &#39;b&#39;), (&#39;b&#39;, &#39;c&#39;), (&#39;c&#39;, &#39;c&#39;)]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.product(<span class="string">'abc'</span>, repeat=<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[(&#39;a&#39;, &#39;a&#39;),
 (&#39;a&#39;, &#39;b&#39;),
 (&#39;a&#39;, &#39;c&#39;),
 (&#39;b&#39;, &#39;a&#39;),
 (&#39;b&#39;, &#39;b&#39;),
 (&#39;b&#39;, &#39;c&#39;),
 (&#39;c&#39;, &#39;a&#39;),
 (&#39;c&#39;, &#39;b&#39;),
 (&#39;c&#39;, &#39;c&#39;)]</code></pre>
<h5 id="miscellaneous">Miscellaneous</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.chain([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]))</span><br></pre></td></tr></table></figure>
<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.chain.from_iterable([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]]))</span><br></pre></td></tr></table></figure>
<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nums = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i, g <span class="keyword">in</span> it.groupby(nums, key=<span class="keyword">lambda</span> x: x % <span class="number">2</span> ==<span class="number">0</span>):</span><br><span class="line">    print(i, list(g))</span><br></pre></td></tr></table></figure>
<pre><code>False [1, 3, 5, 7]
True [2, 4, 6]
False [1, 3, 5, 7, 9]
True [2, 2, 2]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.takewhile(<span class="keyword">lambda</span> x: x % <span class="number">2</span> == <span class="number">1</span>, nums))</span><br></pre></td></tr></table></figure>
<pre><code>[1, 3, 5, 7]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(it.dropwhile(<span class="keyword">lambda</span> x: x % <span class="number">2</span> == <span class="number">1</span>, nums))</span><br></pre></td></tr></table></figure>
<pre><code>[2, 4, 6, 1, 3, 5, 7, 9, 2, 2, 2]</code></pre>
<h4 id="using-toolz">Using <code>toolz</code></h4>
<p>The <code>toolz</code> package provides a very rich set of functional operators, and is recommended if you want to program in the functional style using Python.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> toolz</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> toolz <span class="keyword">import</span> sliding_window, pipe, frequencies, concat</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> toolz.curried <span class="keyword">as</span> c</span><br></pre></td></tr></table></figure>
<p>Example: Read in some documents, remove punctuation, split into words and then into individual characters, and find the most commonly occurring sliding windows containing 3 characters.</p>
<p>This is most naturally done by piping in a data set through a series of transforms.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">d1 = <span class="string">'the doo doo doo the dah dah dah'</span></span><br><span class="line">d2 = <span class="string">'every breath she takes, every move she makes'</span></span><br><span class="line">d3 = <span class="string">'another brick in the wall'</span></span><br><span class="line">d4 = <span class="string">'another one bites the dust and another one gone'</span></span><br><span class="line">docs = [d1,d2,d3,d4]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> string</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">triple_freqs = pipe(</span><br><span class="line">    docs,</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.translate(str.maketrans(<span class="string">''</span>, <span class="string">''</span>, string.punctuation))),</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.split()),</span><br><span class="line">    concat,</span><br><span class="line">    concat,</span><br><span class="line">    c.sliding_window(<span class="number">3</span>),</span><br><span class="line">    frequencies,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sorted(triple_freqs.items(), key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="literal">True</span>)[:<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<pre><code>[((&#39;t&#39;, &#39;h&#39;, &#39;e&#39;), 7),
 ((&#39;o&#39;, &#39;t&#39;, &#39;h&#39;), 4),
 ((&#39;h&#39;, &#39;e&#39;, &#39;d&#39;), 3),
 ((&#39;d&#39;, &#39;o&#39;, &#39;o&#39;), 3),
 ((&#39;d&#39;, &#39;a&#39;, &#39;h&#39;), 3)]</code></pre>
<h5 id="step-by-step">Step by step</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pipe(</span><br><span class="line">    docs,</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.translate(str.maketrans(<span class="string">''</span>, <span class="string">''</span>, string.punctuation))),</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.split()),</span><br><span class="line">    concat,</span><br><span class="line">    concat,</span><br><span class="line">    c.sliding_window(<span class="number">3</span>),</span><br><span class="line">    frequencies,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<pre><code>{(&#39;t&#39;, &#39;h&#39;, &#39;e&#39;): 7,
 (&#39;h&#39;, &#39;e&#39;, &#39;d&#39;): 3,
 (&#39;e&#39;, &#39;d&#39;, &#39;o&#39;): 1,
 (&#39;d&#39;, &#39;o&#39;, &#39;o&#39;): 3,
 (&#39;o&#39;, &#39;o&#39;, &#39;d&#39;): 2,
 (&#39;o&#39;, &#39;d&#39;, &#39;o&#39;): 2,
 (&#39;o&#39;, &#39;o&#39;, &#39;t&#39;): 1,
 ...
 (&#39;g&#39;, &#39;o&#39;, &#39;n&#39;): 1}</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pipe(</span><br><span class="line">    docs,</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.translate(str.maketrans(<span class="string">''</span>, <span class="string">''</span>, string.punctuation))),</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.split()),</span><br><span class="line">    concat,</span><br><span class="line">    concat,</span><br><span class="line">    c.sliding_window(<span class="number">3</span>),</span><br><span class="line">    frequencies,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<pre><code>{(&#39;t&#39;, &#39;h&#39;, &#39;e&#39;): 7,
 (&#39;h&#39;, &#39;e&#39;, &#39;d&#39;): 3,
 (&#39;e&#39;, &#39;d&#39;, &#39;o&#39;): 1,
 (&#39;d&#39;, &#39;o&#39;, &#39;o&#39;): 3,
 (&#39;o&#39;, &#39;o&#39;, &#39;d&#39;): 2,
 (&#39;o&#39;, &#39;d&#39;, &#39;o&#39;): 2,
 (&#39;o&#39;, &#39;o&#39;, &#39;t&#39;): 1,
 ...
 (&#39;g&#39;, &#39;o&#39;, &#39;n&#39;): 1}</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pipe(</span><br><span class="line">    docs,</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.translate(str.maketrans(<span class="string">''</span>, <span class="string">''</span>, string.punctuation))),</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.split()),</span><br><span class="line">    concat,</span><br><span class="line">    concat,</span><br><span class="line">    c.sliding_window(<span class="number">3</span>),</span><br><span class="line">    frequencies,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<pre><code>{(&#39;t&#39;, &#39;h&#39;, &#39;e&#39;): 7,
 (&#39;h&#39;, &#39;e&#39;, &#39;d&#39;): 3,
 (&#39;e&#39;, &#39;d&#39;, &#39;o&#39;): 1,
 (&#39;d&#39;, &#39;o&#39;, &#39;o&#39;): 3,
 (&#39;o&#39;, &#39;o&#39;, &#39;d&#39;): 2,
 (&#39;o&#39;, &#39;d&#39;, &#39;o&#39;): 2,
 (&#39;o&#39;, &#39;o&#39;, &#39;t&#39;): 1,
 (&#39;o&#39;, &#39;t&#39;, &#39;h&#39;): 4,
 (&#39;e&#39;, &#39;d&#39;, &#39;a&#39;): 1,
 (&#39;d&#39;, &#39;a&#39;, &#39;h&#39;): 3,
 (&#39;a&#39;, &#39;h&#39;, &#39;d&#39;): 2,
 (&#39;h&#39;, &#39;d&#39;, &#39;a&#39;): 2,
 ...
 (&#39;g&#39;, &#39;o&#39;, &#39;n&#39;): 1}</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pipe(</span><br><span class="line">    docs,</span><br><span class="line">    list</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;the doo doo doo the dah dah dah&#39;,
 &#39;every breath she takes, every move she makes&#39;,
 &#39;another brick in the wall&#39;,
 &#39;another one bites the dust and another one gone&#39;]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pipe(</span><br><span class="line">    docs,</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.translate(str.maketrans(<span class="string">''</span>, <span class="string">''</span>, string.punctuation))),</span><br><span class="line">    list</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;the doo doo doo the dah dah dah&#39;,
 &#39;every breath she takes every move she makes&#39;,
 &#39;another brick in the wall&#39;,
 &#39;another one bites the dust and another one gone&#39;]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pipe(</span><br><span class="line">    docs,</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.translate(str.maketrans(<span class="string">''</span>, <span class="string">''</span>, string.punctuation))),</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.split()),</span><br><span class="line">    list</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<pre><code>[[&#39;the&#39;, &#39;doo&#39;, &#39;doo&#39;, &#39;doo&#39;, &#39;the&#39;, &#39;dah&#39;, &#39;dah&#39;, &#39;dah&#39;],
 [&#39;every&#39;, &#39;breath&#39;, &#39;she&#39;, &#39;takes&#39;, &#39;every&#39;, &#39;move&#39;, &#39;she&#39;, &#39;makes&#39;],
 [&#39;another&#39;, &#39;brick&#39;, &#39;in&#39;, &#39;the&#39;, &#39;wall&#39;],
 [&#39;another&#39;, &#39;one&#39;, &#39;bites&#39;, &#39;the&#39;, &#39;dust&#39;, &#39;and&#39;, &#39;another&#39;, &#39;one&#39;, &#39;gone&#39;]]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pipe(</span><br><span class="line">    docs,</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.translate(str.maketrans(<span class="string">''</span>, <span class="string">''</span>, string.punctuation))),</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.split()),</span><br><span class="line">    concat,</span><br><span class="line">    list</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;the&#39;,
 &#39;doo&#39;,
 &#39;doo&#39;,
 &#39;doo&#39;,
 ...
 &#39;another&#39;,
 &#39;one&#39;,
 &#39;gone&#39;]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pipe(</span><br><span class="line">    docs,</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.translate(str.maketrans(<span class="string">''</span>, <span class="string">''</span>, string.punctuation))),</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.split()),</span><br><span class="line">    concat,</span><br><span class="line">    concat,</span><br><span class="line">    list</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<pre><code>[&#39;t&#39;,
 &#39;h&#39;,
 &#39;e&#39;,
 &#39;d&#39;,
 &#39;o&#39;,
 &#39;o&#39;,
 ...
 &#39;n&#39;,
 &#39;e&#39;]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pipe(</span><br><span class="line">    docs,</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.translate(str.maketrans(<span class="string">''</span>, <span class="string">''</span>, string.punctuation))),</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.split()),</span><br><span class="line">    concat,</span><br><span class="line">    concat,</span><br><span class="line">    c.sliding_window(<span class="number">3</span>),</span><br><span class="line">    list</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<pre><code>[(&#39;t&#39;, &#39;h&#39;, &#39;e&#39;),
 (&#39;h&#39;, &#39;e&#39;, &#39;d&#39;),
 (&#39;e&#39;, &#39;d&#39;, &#39;o&#39;),
 (&#39;d&#39;, &#39;o&#39;, &#39;o&#39;),
 (&#39;o&#39;, &#39;o&#39;, &#39;d&#39;),
 (&#39;o&#39;, &#39;d&#39;, &#39;o&#39;),
 ...
 (&#39;o&#39;, &#39;n&#39;, &#39;e&#39;)]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pipe(</span><br><span class="line">    docs,</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.translate(str.maketrans(<span class="string">''</span>, <span class="string">''</span>, string.punctuation))),</span><br><span class="line">    c.map(<span class="keyword">lambda</span> x: x.split()),</span><br><span class="line">    concat,</span><br><span class="line">    concat,</span><br><span class="line">    c.sliding_window(<span class="number">3</span>),</span><br><span class="line">    frequencies</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<pre><code>{(&#39;t&#39;, &#39;h&#39;, &#39;e&#39;): 7,
 (&#39;h&#39;, &#39;e&#39;, &#39;d&#39;): 3,
 (&#39;e&#39;, &#39;d&#39;, &#39;o&#39;): 1,
 (&#39;d&#39;, &#39;o&#39;, &#39;o&#39;): 3,
 (&#39;o&#39;, &#39;o&#39;, &#39;d&#39;): 2,
 ...
 (&#39;g&#39;, &#39;o&#39;, &#39;n&#39;): 1}</code></pre>
</div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Data-Science/" rel="tag"># Data Science</a>
              <a href="/tags/Coding/" rel="tag"># Coding</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/02/10/first/" rel="prev" title="Point to Begin">
      <i class="fa fa-chevron-left"></i> Point to Begin
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/04/11/Duke-Intro-to-Machine-Learning-Notes/" rel="next" title="Duke Intro to Machine Learning Notes">
      Duke Intro to Machine Learning Notes <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#functional-programming-in-python-operator-functional-itertoools-toolz"><span class="nav-number">1.</span> <span class="nav-text">Functional programming in Python (operator, functional, itertoools, toolz)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#pure-functions"><span class="nav-number">2.</span> <span class="nav-text">Pure functions</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#deterministic"><span class="nav-number">2.1.</span> <span class="nav-text">Deterministic</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#no-side-effects"><span class="nav-number">2.2.</span> <span class="nav-text">No side effects</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#exercise"><span class="nav-number">2.3.</span> <span class="nav-text">Exercise</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#recursive-functions"><span class="nav-number">3.</span> <span class="nav-text">Recursive functions</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#anonymous-functions"><span class="nav-number">4.</span> <span class="nav-text">Anonymous functions</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#lazy-evaluation"><span class="nav-number">5.</span> <span class="nav-text">Lazy evaluation</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#generators"><span class="nav-number">5.1.</span> <span class="nav-text">Generators</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#differences-between-a-function-and-a-generator"><span class="nav-number">5.1.1.</span> <span class="nav-text">Differences between a function and a generator</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#generators-can-return-infinite-sequences"><span class="nav-number">5.1.2.</span> <span class="nav-text">Generators can return infinite sequences</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#higher-order-functions"><span class="nav-number">6.</span> <span class="nav-text">Higher order functions</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#standard-hofs"><span class="nav-number">6.1.</span> <span class="nav-text">Standard HOFs</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#example-flattening-a-nested-list"><span class="nav-number">7.</span> <span class="nav-text">Example: Flattening a nested list</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#closure"><span class="nav-number">8.</span> <span class="nav-text">Closure</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#decorators"><span class="nav-number">9.</span> <span class="nav-text">Decorators</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#partial-application"><span class="nav-number">10.</span> <span class="nav-text">Partial application</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#using-operator"><span class="nav-number">11.</span> <span class="nav-text">Using operator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#using-functional"><span class="nav-number">12.</span> <span class="nav-text">Using functional</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#using-itertools"><span class="nav-number">13.</span> <span class="nav-text">Using itertools</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#generators-1"><span class="nav-number">13.1.</span> <span class="nav-text">Generators</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#permutations-and-combinations"><span class="nav-number">13.2.</span> <span class="nav-text">Permutations and combinations</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#miscellaneous"><span class="nav-number">13.3.</span> <span class="nav-text">Miscellaneous</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#using-toolz"><span class="nav-number">14.</span> <span class="nav-text">Using toolz</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#step-by-step"><span class="nav-number">14.1.</span> <span class="nav-text">Step by step</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Zhecheng Sheng</p>
  <div class="site-description" itemprop="description">Life is long, so take your time</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zcsheng95" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;zcsheng95" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://jeffsheng95@gmail.com/" title="E-Mail â†’ https:&#x2F;&#x2F;jeffsheng95@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/shenggg6" title="Instagram â†’ https:&#x2F;&#x2F;instagram.com&#x2F;shenggg6" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zhecheng Sheng</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  


</body>
</html>
